(function(){function g(a,b,d){a.addEventListener?a.addEventListener("click",function(){b.apply(d)}):a.attachEvent&&a.attachEvent("onclick",function(){b.apply(d)})}if(self.Prism){var c=document.getElementsByTagName("script");if(c=c[c.length-1])var e=c.getAttribute("src"),e=e.replace(e.substring(e.lastIndexOf("/")+1),"ZeroClipboard.swf");Prism.hooks.add("after-highlight",function(a){var b=a.element.parentNode;if(b&&/pre/i.test(b.nodeName)&&-1!==b.className.indexOf("code-toolbar")){var d=document.createElement("div");
d.setAttribute("class","toolbar");var c=document.createElement("a");c.innerHTML="View source";g(c,function(){var a=window.open("","Source Code","chrome,resizable,scrollbars,centerscreen,width=800,height=600");a.document.open();a.document.write("<!doctype html><html><head><title>Source Code</title></head><body><pre><code>"+this.code+"</code></pre></body></html>");a.document.close();return!1},a);d.appendChild(c);if(window.ZeroClipboard&&e){a=document.createElement("a");a.innerHTML="Copy to clipboard";
var f=new ZeroClipboard(a,{moviePath:e});f.on("dataRequested",function(a,c){this.parentNode.parentNode.getElementsByTagName("code")[0]&&f.setText(this.parentNode.parentNode.getElementsByTagName("code")[0].innerText)});f.on("complete",function(a,c){var b=this.parentNode.parentNode.getAttribute("data-copy-success");b?alert(this.parentNode.parentNode.getAttribute("data-copy-success")):null==b&&alert("Code copied succesfully")});d.appendChild(a)}b.appendChild(d)}})}})();